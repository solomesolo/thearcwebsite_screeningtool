<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Right Screening Finder - Consent</title>
    <style>
        /* Reset all default styles and force dark theme */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            background-color: #0a0a0a !important;
            background-image: none !important;
            color-scheme: dark !important;
        }
        
        body {
            background-color: #0a0a0a !important;
            background-image: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0f0f0f 100%) !important;
            color: #ffffff !important;
            font-family: Arial, sans-serif;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            position: relative;
            overflow-x: hidden;
            /* Force override any system theme */
            color-scheme: dark !important;
        }
        
        /* Multiple background layers to ensure dark background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #0a0a0a;
            background-image: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0f0f0f 100%);
            z-index: -10;
            pointer-events: none;
        }
        
        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 20%, rgba(102, 126, 234, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(118, 75, 162, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: -5;
        }
        
        .consent-container {
            background-color: rgba(26, 26, 26, 0.95);
            background-image: none;
            border-radius: 20px;
            padding: 3rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
            max-width: 600px;
            width: 100%;
            text-align: center;
            position: relative;
            z-index: 1;
        }
        
        .consent-title {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }
        
        .consent-description {
            color: #e0e0e0;
            margin-bottom: 2rem;
            font-size: 1.125rem;
            line-height: 1.7;
        }
        
        .consent-checkbox {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.5rem;
            background-color: rgba(26, 26, 26, 0.95);
            background-image: none;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 2rem;
            text-align: left;
        }
        
        .consent-checkbox input[type="checkbox"] {
            width: 24px;
            height: 24px;
            cursor: pointer;
            border-radius: 50%;
            appearance: none;
            -webkit-appearance: none;
            background-color: rgba(255, 255, 255, 0.1);
            background-image: none;
            border: 2px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
            flex-shrink: 0;
        }
        
        .consent-checkbox input[type="checkbox"]:checked {
            background-color: #667eea;
            background-image: none;
            border-color: #667eea;
        }
        
        .consent-checkbox label {
            color: #ffffff;
            font-size: 1rem;
            cursor: pointer;
            flex: 1;
        }
        
        .continue-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-color: #667eea;
            border: none;
            border-radius: 50px;
            padding: 1rem 3rem;
            color: #ffffff;
            font-size: 1.125rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
            width: 100%;
        }
        
        .continue-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
        }
        
        .continue-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .terms-list {
            text-align: left;
            margin-bottom: 2rem;
            padding-left: 1.5rem;
        }
        
        .terms-list li {
            color: #ffffff;
            margin-bottom: 0.5rem;
        }
        
        /* Safari-specific fixes */
        @media screen and (-webkit-min-device-pixel-ratio: 0) {
            body {
                background-color: #0a0a0a !important;
                background-image: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0f0f0f 100%) !important;
            }
            
            .consent-container {
                background-color: rgba(26, 26, 26, 0.95) !important;
            }
            
            .consent-checkbox {
                background-color: rgba(26, 26, 26, 0.95) !important;
            }
        }
    </style>
</head>
<body>
    <div class="consent-container">
        <h1 class="consent-title">Welcome to Right Screening Finder</h1>
        <p class="consent-description">
            This questionnaire will help us understand your health profile and provide personalized screening recommendations.
            Your privacy is important to us. All information you provide will be kept confidential and used solely for the purpose of generating your health assessment.
        </p>
        
        <ul class="terms-list">
            <li>You are over 18 years old (or have legal guardian consent).</li>
            <li>You understand how your data will be processed and used.</li>
            <li>You agree to the terms outlined above.</li>
        </ul>
        
        <div class="consent-checkbox">
            <input type="checkbox" id="consentCheckbox" name="consent" required>
            <label for="consentCheckbox">I consent to the processing of my data for the purpose of generating personalized preventive screening recommendations.</label>
        </div>
        
        <button class="continue-btn" id="consentNextBtn" onclick="handleConsentClick()" disabled>Continue to Assessment</button>
    </div>

    <script>
        // Force dark background immediately on load
        document.documentElement.style.backgroundColor = '#0a0a0a';
        document.documentElement.style.backgroundImage = 'linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0f0f0f 100%)';
        document.body.style.backgroundColor = '#0a0a0a';
        document.body.style.backgroundImage = 'linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0f0f0f 100%)';
        
        function setupConsentForm() {
            const consentCheckbox = document.getElementById("consentCheckbox");
            const consentNextBtn = document.getElementById("consentNextBtn");
            
            if (consentCheckbox && consentNextBtn) {
                function updateButtonState() {
                    const isChecked = consentCheckbox.checked;
                    
                    if (isChecked) {
                        consentNextBtn.disabled = false;
                        consentNextBtn.style.opacity = "1";
                        consentNextBtn.style.cursor = "pointer";
                    } else {
                        consentNextBtn.disabled = true;
                        consentNextBtn.style.opacity = "0.5";
                        consentNextBtn.style.cursor = "not-allowed";
                    }
                }
                
                // Set initial state
                updateButtonState();
                
                // Add event listener
                consentCheckbox.addEventListener("change", updateButtonState);
            }
        }
        
        function handleConsentClick() {
            const consentCheckbox = document.getElementById("consentCheckbox");
            
            if (consentCheckbox && consentCheckbox.checked) {
                // Store consent in localStorage
                localStorage.setItem("consentGiven", "true");
                localStorage.setItem("consentTimestamp", new Date().toISOString());
                
                // Redirect to questionnaire
                window.location.href = "questionnaire.html";
            } else {
                alert("Please provide your consent to continue with the assessment.");
            }
        }

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            setupConsentForm();
            
            // Force dark background again after DOM load
            document.documentElement.style.backgroundColor = '#0a0a0a';
            document.body.style.backgroundColor = '#0a0a0a';
        });
    </script>
</body>
</html>
